@inherits LinkBase
@using Excubo.Blazor.Diagrams.Extensions
@using (var temporary_culture = new CultureSwapper())
{
    <g transform="scale(@Zoom)">
        @if (Source != null && Target != null)
        {
            var sx = Source.X;
            var sy = Source.Y;
            var tx = Target.X;
            var ty = Target.Y;
            string curve_part;
            if (CurveTopBottom)
            {
                var mid_y = (Source.Y + Target.Y) / 2;
                curve_part = $"L {sx} {mid_y} L {tx} {mid_y}";
            }
            else
            {
                var mid_x = (Source.X + Target.X) / 2;
                curve_part = $"L {mid_x} {sy} L {mid_x} {ty}";
            }
            <path d="M @sx @sy @curve_part @tx @ty"
                  stroke-width="3"
                  fill="none"
                  stroke="black" />
        }
    </g>
}
@code {
    [Parameter]
    public bool CurveTopBottom { get; set; }
}